<html>

	<head>
		<script type="text/javascript" src="../src/sunlight.js"></script>
		<script type="text/javascript" src="../src/lang/sunlight.clojure.js"></script>
		<link rel="stylesheet" type="text/css" href="../src/themes/sunlight.tomorrow-night.css" />
	</head>

	<body>
<pre id="code" class="sunlight-highlight-clojure">;;; Convert roman to arabic numerals
(defn roman->arabic [rom]
  (let [dict {"I" 1 "IV" 4 "V" 5 "IX" 9 "X" 10 "XL" 40 "L" 50
              "XC" 90 "C" 100 "CD" 400 "D" 500 "CM" 900 "M" 1000}]
    (loop [rom rom acc 0]
      (if-let [tok (re-find #"M|CM|D|CD|C|XC|L|XL|X|IX|V|IV|I" rom)]
        (recur (subs rom (count tok)) (+ acc (dict tok)))
        acc))))

; Tagged literals
(def ^:private my-birthdate #inst "1981-02-16T7:30:00")

(defn- divisible-by? [d n]
  (zero? (rem n d)))

; Characters
(def all-codes
  (let [letters [\A \B \C \D \E \F]]
    (vec
      (for [n1 letters n2 letters n3 letters n4 letters]
        (str n1 n2 n3 n4)))))
[\space \backspace \tab]

(reduce +' [40 23.67 -45.23 4523N 123.45678M])

</pre>
	</body>

	<script type="text/javascript"  src="test.js"></script>
	<script type="text/javascript">//<![CDATA[
    assertExists("comment", ";;; Convert roman to arabic numerals", "Top comment");
    assertExists("comment", "; Tagged literals", "Tagged literals comment");

    assertExists("ident", "roman->arabic", "user defined symbol: roman->arabic");
    assertExists("ident", "dict", "user defined symbol: dict");
    assertExists("ident", "rom", "user defined symbol: rom");
    assertExists("ident", "acc", "user defined symbol: acc");
    
    assertExists("named-ident", "if-let", "core function");
    assertExists("named-ident", "re-find", "core function");
    assertExists("named-ident", "zero?", "core function");
    assertExists("named-ident", "for", "core function");
    
    assertExists("keyword", "def", "special form: def");
    assertExists("keyword", "defn", "special form: defn");
    //assertExists("keyword", "defn-", "special form: defn-");

    assertExists("char", "\\A", "character");
    assertExists("char", "\\space", "character");
    assertExists("char", "\\tab", "character");

    assertExists("number", "40", "integer");
    assertExists("number", "23.67", "double");
    assertExists("number", "-45.23", "negative double");
    assertExists("number", "4523N", "bigint");
    assertExists("number", "123.45678M", "bigdec");



	//]]></script>
</html>
